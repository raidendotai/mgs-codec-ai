import{b as oe,d as s,e as h,f as d,g as p,h as ue,i as y}from"./chunk-Y3AVQXKT.js";var Ie={};oe(Ie,{AuthenticationCleartextPassword:()=>v,AuthenticationMD5Password:()=>Q,AuthenticationOk:()=>G,AuthenticationSASL:()=>W,AuthenticationSASLContinue:()=>_,AuthenticationSASLFinal:()=>j,BackendKeyDataMessage:()=>J,CommandCompleteMessage:()=>ee,CopyDataMessage:()=>z,CopyResponse:()=>H,DataRowMessage:()=>te,DatabaseError:()=>C,Field:()=>q,NoticeMessage:()=>ne,NotificationResponseMessage:()=>X,ParameterDescriptionMessage:()=>Y,ParameterStatusMessage:()=>K,ReadyForQueryMessage:()=>Z,RowDescriptionMessage:()=>$,bindComplete:()=>ge,closeComplete:()=>we,copyDone:()=>Be,emptyQuery:()=>xe,noData:()=>Ae,parseComplete:()=>be,portalSuspended:()=>Se,replicationStart:()=>De});y();var be={name:"parseComplete",length:5},ge={name:"bindComplete",length:5},we={name:"closeComplete",length:5},Ae={name:"noData",length:5},Se={name:"portalSuspended",length:5},De={name:"replicationStart",length:4},xe={name:"emptyQuery",length:4},Be={name:"copyDone",length:4},G=class{constructor(t){this.length=t;this.name="authenticationOk"}},v=class{constructor(t){this.length=t;this.name="authenticationCleartextPassword"}},Q=class{constructor(t,n){this.length=t;this.salt=n;this.name="authenticationMD5Password"}},W=class{constructor(t,n){this.length=t;this.mechanisms=n;this.name="authenticationSASL"}},_=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLContinue"}},j=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLFinal"}},C=class extends Error{constructor(n,r,i){super(n);this.length=r;this.name=i}},z=class{constructor(t,n){this.length=t;this.chunk=n;this.name="copyData"}},H=class{constructor(t,n,r,i){this.length=t;this.name=n;this.binary=r;this.columnTypes=new Array(i)}},q=class{constructor(t,n,r,i,a,u,f){this.name=t;this.tableID=n;this.columnID=r;this.dataTypeID=i;this.dataTypeSize=a;this.dataTypeModifier=u;this.format=f}},$=class{constructor(t,n){this.length=t;this.fieldCount=n;this.name="rowDescription";this.fields=new Array(this.fieldCount)}},Y=class{constructor(t,n){this.length=t;this.parameterCount=n;this.name="parameterDescription";this.dataTypeIDs=new Array(this.parameterCount)}},K=class{constructor(t,n,r){this.length=t;this.parameterName=n;this.parameterValue=r;this.name="parameterStatus"}},J=class{constructor(t,n,r){this.length=t;this.processID=n;this.secretKey=r;this.name="backendKeyData"}},X=class{constructor(t,n,r,i){this.length=t;this.processId=n;this.channel=r;this.payload=i;this.name="notification"}},Z=class{constructor(t,n){this.length=t;this.status=n;this.name="readyForQuery"}},ee=class{constructor(t,n){this.length=t;this.text=n;this.name="commandComplete"}},te=class{constructor(t,n){this.length=t;this.fields=n;this.name="dataRow";this.fieldCount=n.length}},ne=class{constructor(t,n){this.length=t;this.message=n;this.name="notice"}};var _t={};oe(_t,{Parser:()=>ye,messages:()=>Ie,serialize:()=>k});y();y();y();y();function P(e){let t=e.length;for(let n=e.length-1;n>=0;n--){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}var b,g,N,ce,L,S,le,U,ve,R=class{constructor(t=256){this.size=t;h(this,S);h(this,b);h(this,g,5);h(this,N,!1);h(this,ce,new TextEncoder);h(this,L,0);d(this,b,p(this,S,le).call(this,t))}addInt32(t){return p(this,S,U).call(this,4),s(this,b).setInt32(s(this,g),t,s(this,N)),d(this,g,s(this,g)+4),this}addInt16(t){return p(this,S,U).call(this,2),s(this,b).setInt16(s(this,g),t,s(this,N)),d(this,g,s(this,g)+2),this}addCString(t){return t&&this.addString(t),p(this,S,U).call(this,1),s(this,b).setUint8(s(this,g),0),ue(this,g)._++,this}addString(t=""){let n=P(t);return p(this,S,U).call(this,n),s(this,ce).encodeInto(t,new Uint8Array(s(this,b).buffer,s(this,g))),d(this,g,s(this,g)+n),this}add(t){return p(this,S,U).call(this,t.byteLength),new Uint8Array(s(this,b).buffer).set(new Uint8Array(t),s(this,g)),d(this,g,s(this,g)+t.byteLength),this}flush(t){let n=p(this,S,ve).call(this,t);return d(this,g,5),d(this,b,p(this,S,le).call(this,this.size)),new Uint8Array(n)}};b=new WeakMap,g=new WeakMap,N=new WeakMap,ce=new WeakMap,L=new WeakMap,S=new WeakSet,le=function(t){return new DataView(new ArrayBuffer(t))},U=function(t){if(s(this,b).byteLength-s(this,g)<t){let r=s(this,b).buffer,i=r.byteLength+(r.byteLength>>1)+t;d(this,b,p(this,S,le).call(this,i)),new Uint8Array(s(this,b).buffer).set(new Uint8Array(r))}},ve=function(t){if(t){s(this,b).setUint8(s(this,L),t);let n=s(this,g)-(s(this,L)+1);s(this,b).setInt32(s(this,L)+1,n,s(this,N))}return s(this,b).buffer.slice(t?0:5,s(this,g))};var m=new R,gt=e=>{m.addInt16(3).addInt16(0);for(let r of Object.keys(e))m.addCString(r).addCString(e[r]);m.addCString("client_encoding").addCString("UTF8");let t=m.addCString("").flush(),n=t.byteLength+4;return new R().addInt32(n).add(t).flush()},wt=()=>{let e=new DataView(new ArrayBuffer(8));return e.setInt32(0,8,!1),e.setInt32(4,80877103,!1),new Uint8Array(e.buffer)},At=e=>m.addCString(e).flush(112),St=(e,t)=>(m.addCString(e).addInt32(P(t)).addString(t),m.flush(112)),Dt=e=>m.addString(e).flush(112),xt=e=>m.addCString(e).flush(81),Bt=[],It=e=>{let t=e.name??"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=m.addCString(t).addCString(e.text).addInt16(e.types?.length??0);return e.types?.forEach(r=>n.addInt32(r)),m.flush(80)},O=new R;var Mt=(e,t)=>{for(let n=0;n<e.length;n++){let r=t?t(e[n],n):e[n];if(r===null)m.addInt16(0),O.addInt32(-1);else if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)){let i=ArrayBuffer.isView(r)?r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength):r;m.addInt16(1),O.addInt32(i.byteLength),O.add(i)}else m.addInt16(0),O.addInt32(P(r)),O.addString(r)}},Tt=(e={})=>{let t=e.portal??"",n=e.statement??"",r=e.binary??!1,i=e.values??Bt,a=i.length;return m.addCString(t).addCString(n),m.addInt16(a),Mt(i,e.valueMapper),m.addInt16(a),m.add(O.flush()),m.addInt16(r?1:0),m.flush(66)},Rt=new Uint8Array([69,0,0,0,9,0,0,0,0,0]),Et=e=>{if(!e||!e.portal&&!e.rows)return Rt;let t=e.portal??"",n=e.rows??0,r=P(t),i=4+r+1+4,a=new DataView(new ArrayBuffer(1+i));return a.setUint8(0,69),a.setInt32(1,i,!1),new TextEncoder().encodeInto(t,new Uint8Array(a.buffer,5)),a.setUint8(r+5,0),a.setUint32(a.byteLength-4,n,!1),new Uint8Array(a.buffer)},Ct=(e,t)=>{let n=new DataView(new ArrayBuffer(16));return n.setInt32(0,16,!1),n.setInt16(4,1234,!1),n.setInt16(6,5678,!1),n.setInt32(8,e,!1),n.setInt32(12,t,!1),new Uint8Array(n.buffer)},Me=(e,t)=>{let n=new R;return n.addCString(t),n.flush(e)},Pt=m.addCString("P").flush(68),Ut=m.addCString("S").flush(68),Nt=e=>e.name?Me(68,`${e.type}${e.name??""}`):e.type==="P"?Pt:Ut,Lt=e=>{let t=`${e.type}${e.name??""}`;return Me(67,t)},Ot=e=>m.add(e).flush(100),kt=e=>Me(102,e),pe=e=>new Uint8Array([e,0,0,0,4]),Vt=pe(72),Ft=pe(83),Gt=pe(88),vt=pe(99),k={startup:gt,password:At,requestSsl:wt,sendSASLInitialResponseMessage:St,sendSCRAMClientFinalMessage:Dt,query:xt,parse:It,bind:Tt,execute:Et,describe:Nt,close:Lt,flush:()=>Vt,sync:()=>Ft,end:()=>Gt,copyData:Ot,copyDone:()=>vt,copyFail:kt,cancel:Ct};y();y();var Te={text:0,binary:1};y();var Qt=new ArrayBuffer(0),T,w,fe,me,re,de=class{constructor(t=0){h(this,T,new DataView(Qt));h(this,w);h(this,fe,"utf-8");h(this,me,new TextDecoder(s(this,fe)));h(this,re,!1);d(this,w,t)}setBuffer(t,n){d(this,w,t),d(this,T,new DataView(n))}int16(){let t=s(this,T).getInt16(s(this,w),s(this,re));return d(this,w,s(this,w)+2),t}byte(){let t=s(this,T).getUint8(s(this,w));return ue(this,w)._++,t}int32(){let t=s(this,T).getInt32(s(this,w),s(this,re));return d(this,w,s(this,w)+4),t}string(t){return s(this,me).decode(this.bytes(t))}cstring(){let t=s(this,w),n=t;for(;s(this,T).getUint8(n++)!==0;);let r=this.string(n-t-1);return d(this,w,n),r}bytes(t){let n=s(this,T).buffer.slice(s(this,w),s(this,w)+t);return d(this,w,s(this,w)+t),new Uint8Array(n)}};T=new WeakMap,w=new WeakMap,fe=new WeakMap,me=new WeakMap,re=new WeakMap;var Re=1,Wt=4,Qe=Re+Wt,We=new ArrayBuffer(0);var A,D,x,o,l,_e,je,ze,He,qe,$e,Ye,Ee,Ke,Je,Xe,Ze,et,tt,nt,rt,Ce,ye=class{constructor(){h(this,l);h(this,A,new DataView(We));h(this,D,0);h(this,x,0);h(this,o,new de)}parse(t,n){p(this,l,_e).call(this,ArrayBuffer.isView(t)?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t);let r=s(this,x)+s(this,D),i=s(this,x);for(;i+Qe<=r;){let a=s(this,A).getUint8(i),u=s(this,A).getUint32(i+Re,!1),f=Re+u;if(f+i<=r){let c=p(this,l,je).call(this,i+Qe,a,u,s(this,A).buffer);n(c),i+=f}else break}i===r?(d(this,A,new DataView(We)),d(this,D,0),d(this,x,0)):(d(this,D,r-i),d(this,x,i))}};A=new WeakMap,D=new WeakMap,x=new WeakMap,o=new WeakMap,l=new WeakSet,_e=function(t){if(s(this,D)>0){let n=s(this,D)+t.byteLength;if(n+s(this,x)>s(this,A).byteLength){let i;if(n<=s(this,A).byteLength&&s(this,x)>=s(this,D))i=s(this,A).buffer;else{let a=s(this,A).byteLength*2;for(;n>=a;)a*=2;i=new ArrayBuffer(a)}new Uint8Array(i).set(new Uint8Array(s(this,A).buffer,s(this,x),s(this,D))),d(this,A,new DataView(i)),d(this,x,0)}new Uint8Array(s(this,A).buffer).set(new Uint8Array(t),s(this,x)+s(this,D)),d(this,D,n)}else d(this,A,new DataView(t)),d(this,x,0),d(this,D,t.byteLength)},je=function(t,n,r,i){switch(n){case 50:return ge;case 49:return be;case 51:return we;case 110:return Ae;case 115:return Se;case 99:return Be;case 87:return De;case 73:return xe;case 68:return p(this,l,et).call(this,t,r,i);case 67:return p(this,l,He).call(this,t,r,i);case 90:return p(this,l,ze).call(this,t,r,i);case 65:return p(this,l,Ke).call(this,t,r,i);case 82:return p(this,l,rt).call(this,t,r,i);case 83:return p(this,l,tt).call(this,t,r,i);case 75:return p(this,l,nt).call(this,t,r,i);case 69:return p(this,l,Ce).call(this,t,r,i,"error");case 78:return p(this,l,Ce).call(this,t,r,i,"notice");case 84:return p(this,l,Je).call(this,t,r,i);case 116:return p(this,l,Ze).call(this,t,r,i);case 71:return p(this,l,$e).call(this,t,r,i);case 72:return p(this,l,Ye).call(this,t,r,i);case 100:return p(this,l,qe).call(this,t,r,i);default:return new C("received invalid response: "+n.toString(16),r,"error")}},ze=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).string(1);return new Z(n,i)},He=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring();return new ee(n,i)},qe=function(t,n,r){let i=r.slice(t,t+(n-4));return new z(n,new Uint8Array(i))},$e=function(t,n,r){return p(this,l,Ee).call(this,t,n,r,"copyInResponse")},Ye=function(t,n,r){return p(this,l,Ee).call(this,t,n,r,"copyOutResponse")},Ee=function(t,n,r,i){s(this,o).setBuffer(t,r);let a=s(this,o).byte()!==0,u=s(this,o).int16(),f=new H(n,i,a,u);for(let c=0;c<u;c++)f.columnTypes[c]=s(this,o).int16();return f},Ke=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).cstring(),u=s(this,o).cstring();return new X(n,i,a,u)},Je=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new $(n,i);for(let u=0;u<i;u++)a.fields[u]=p(this,l,Xe).call(this);return a},Xe=function(){let t=s(this,o).cstring(),n=s(this,o).int32(),r=s(this,o).int16(),i=s(this,o).int32(),a=s(this,o).int16(),u=s(this,o).int32(),f=s(this,o).int16()===0?Te.text:Te.binary;return new q(t,n,r,i,a,u,f)},Ze=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Y(n,i);for(let u=0;u<i;u++)a.dataTypeIDs[u]=s(this,o).int32();return a},et=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Array(i);for(let u=0;u<i;u++){let f=s(this,o).int32();a[u]=f===-1?null:s(this,o).string(f)}return new te(n,a)},tt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring(),a=s(this,o).cstring();return new K(n,i,a)},nt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).int32();return new J(n,i,a)},rt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32();switch(i){case 0:return new G(n);case 3:return new v(n);case 5:return new Q(n,s(this,o).bytes(4));case 10:{let a=[];for(;;){let u=s(this,o).cstring();if(u.length===0)return new W(n,a);a.push(u)}}case 11:return new _(n,s(this,o).string(n-8));case 12:return new j(n,s(this,o).string(n-8));default:throw new Error("Unknown authenticationOk message type "+i)}},Ce=function(t,n,r,i){s(this,o).setBuffer(t,r);let a={},u=s(this,o).string(1);for(;u!=="\0";)a[u]=s(this,o).cstring(),u=s(this,o).string(1);let f=a.M,c=i==="notice"?new ne(n,f):new C(f,n,i);return c.severity=a.S,c.code=a.C,c.detail=a.D,c.hint=a.H,c.position=a.P,c.internalPosition=a.p,c.internalQuery=a.q,c.where=a.W,c.schema=a.s,c.table=a.t,c.column=a.c,c.dataType=a.d,c.constraint=a.n,c.file=a.F,c.line=a.L,c.routine=a.R,c};var jn={};oe(jn,{ABSTIME:()=>rn,ACLITEM:()=>dn,BIT:()=>hn,BOOL:()=>Ue,BPCHAR:()=>lt,BYTEA:()=>Ne,CHAR:()=>Ht,CID:()=>Kt,CIDR:()=>nn,CIRCLE:()=>on,DATE:()=>pt,FLOAT4:()=>ot,FLOAT8:()=>ut,GTSVECTOR:()=>Un,INET:()=>pn,INT2:()=>st,INT4:()=>it,INT8:()=>Le,INTERVAL:()=>mn,JSON:()=>Oe,JSONB:()=>ft,MACADDR:()=>cn,MACADDR8:()=>un,MONEY:()=>ln,NUMERIC:()=>gn,OID:()=>at,PATH:()=>en,PG_DEPENDENCIES:()=>En,PG_LSN:()=>Tn,PG_NDISTINCT:()=>Rn,PG_NODE_TREE:()=>Xt,POLYGON:()=>tn,REFCURSOR:()=>wn,REGCLASS:()=>xn,REGCONFIG:()=>Nn,REGDICTIONARY:()=>Ln,REGNAMESPACE:()=>On,REGOPER:()=>Sn,REGOPERATOR:()=>Dn,REGPROC:()=>qt,REGPROCEDURE:()=>An,REGROLE:()=>kn,REGTYPE:()=>Bn,RELTIME:()=>sn,SMGR:()=>Zt,TEXT:()=>se,TID:()=>$t,TIME:()=>fn,TIMESTAMP:()=>dt,TIMESTAMPTZ:()=>ke,TIMETZ:()=>yn,TINTERVAL:()=>an,TSQUERY:()=>Pn,TSVECTOR:()=>Cn,TXID_SNAPSHOT:()=>Mn,UUID:()=>In,VARBIT:()=>bn,VARCHAR:()=>ct,XID:()=>Yt,XML:()=>Jt,arrayParser:()=>_n,arraySerializer:()=>yt,parseType:()=>he,parsers:()=>Vn,serializers:()=>Fn,types:()=>mt});y();var jt=globalThis.JSON.parse,zt=globalThis.JSON.stringify,Ue=16,Ne=17,Ht=18,Le=20,st=21,it=23,qt=24,se=25,at=26,$t=27,Yt=28,Kt=29,Oe=114,Jt=142,Xt=194,Zt=210,en=602,tn=604,nn=650,ot=700,ut=701,rn=702,sn=703,an=704,on=718,un=774,ln=790,cn=829,pn=869,dn=1033,lt=1042,ct=1043,pt=1082,fn=1083,dt=1114,ke=1184,mn=1186,yn=1266,hn=1560,bn=1562,gn=1700,wn=1790,An=2202,Sn=2203,Dn=2204,xn=2205,Bn=2206,In=2950,Mn=2970,Tn=3220,Rn=3361,En=3402,Cn=3614,Pn=3615,Un=3642,Nn=3734,Ln=3769,ft=3802,On=4089,kn=4096,mt={string:{to:se,from:[se,ct,lt],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid input for string type")},parse:e=>e},number:{to:0,from:[st,it,at,ot,ut],serialize:e=>e.toString(),parse:e=>+e},bigint:{to:Le,from:[Le],serialize:e=>e.toString(),parse:e=>{let t=BigInt(e);return t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER?t:Number(t)}},json:{to:Oe,from:[Oe,ft],serialize:e=>zt(e),parse:e=>jt(e)},boolean:{to:Ue,from:[Ue],serialize:e=>{if(typeof e!="boolean")throw new Error("Invalid input for boolean type");return e?"t":"f"},parse:e=>e==="t"},date:{to:ke,from:[pt,dt,ke],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return new Date(e).toISOString();if(e instanceof Date)return e.toISOString();throw new Error("Invalid input for date type")},parse:e=>new Date(e)},bytea:{to:Ne,from:[Ne],serialize:e=>{if(!(e instanceof Uint8Array))throw new Error("Invalid input for bytea type");return"\\x"+Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},parse:e=>{let t=e.slice(2);return Uint8Array.from({length:t.length/2},(n,r)=>parseInt(t.substring(r*2,(r+1)*2),16))}}},Ve=Gn(mt),Vn=Ve.parsers,Fn=Ve.serializers;function he(e,t,n){if(e===null)return null;let r=n?.[t]??Ve.parsers[t];return r?r(e,t):e}function Gn(e){return Object.keys(e).reduce(({parsers:t,serializers:n},r)=>{let{to:i,from:a,serialize:u,parse:f}=e[r];return n[i]=u,n[r]=u,t[r]=f,Array.isArray(a)?a.forEach(c=>{t[c]=f,n[c]=u}):(t[a]=f,n[a]=u),{parsers:t,serializers:n}},{parsers:{},serializers:{}})}var vn=/\\/g,Qn=/"/g;function Wn(e){return e.replace(vn,"\\\\").replace(Qn,'\\"')}function yt(e,t,n){if(Array.isArray(e)===!1)return e;if(!e.length)return"{}";let r=e[0],i=n===1020?";":",";return Array.isArray(r)?`{${e.map(a=>yt(a,t,n)).join(i)}}`:`{${e.map(a=>(a===void 0&&(a=null),a===null?"null":'"'+Wn(t?t(a):a.toString())+'"')).join(i)}}`}var Pe={i:0,char:null,str:"",quoted:!1,last:0,p:null};function _n(e,t,n){return Pe.i=Pe.last=0,ht(Pe,e,t,n)[0]}function ht(e,t,n,r){let i=[],a=r===1020?";":",";for(;e.i<t.length;e.i++){if(e.char=t[e.i],e.quoted)e.char==="\\"?e.str+=t[++e.i]:e.char==='"'?(i.push(n?n(e.str):e.str),e.str="",e.quoted=t[e.i+1]==='"',e.last=e.i+2):e.str+=e.char;else if(e.char==='"')e.quoted=!0;else if(e.char==="{")e.last=++e.i,i.push(ht(e,t,n,r));else if(e.char==="}"){e.quoted=!1,e.last<e.i&&i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1;break}else e.char===a&&e.p!=="}"&&e.p!=='"'&&(i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1);e.p=e.char}return e.last<e.i&&i.push(n?n(t.slice(e.last,e.i+1)):t.slice(e.last,e.i+1)),i}var qn={};oe(qn,{parseDescribeStatementResults:()=>Fe,parseResults:()=>zn});y();function zn(e,t,n,r){let i=[],a={rows:[],fields:[]},u=0,f={...t,...n?.parsers},c=e.filter(B=>B.name==="rowDescription"||B.name==="dataRow"||B.name==="commandComplete");return c.forEach((B,bt)=>{if(B.name==="rowDescription"){let F=B;a.fields=F.fields.map(E=>({name:E.name,dataTypeID:E.dataTypeID}))}else if(B.name==="dataRow"&&a){let F=B;n?.rowMode==="array"?a.rows.push(F.fields.map((E,ae)=>he(E,a.fields[ae].dataTypeID,f))):a.rows.push(Object.fromEntries(F.fields.map((E,ae)=>[a.fields[ae].name,he(E,a.fields[ae].dataTypeID,f)])))}else B.name==="commandComplete"&&(u+=Hn(B),bt===c.length-1?i.push({...a,affectedRows:u,...r?{blob:r}:{}}):i.push(a),a={rows:[],fields:[]})}),i.length===0&&i.push({rows:[],fields:[]}),i}function Hn(e){let t=e.text.split(" ");switch(t[0]){case"INSERT":return parseInt(t[2],10);case"UPDATE":case"DELETE":return parseInt(t[1],10);default:return 0}}function Fe(e){let t=e.find(n=>n.name==="parameterDescription");return t?t.dataTypeIDs:[]}y();var Ge=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ie;async function Er(){if(Ge||ie)return;let e=new URL("./postgres.wasm",import.meta.url);ie=fetch(e)}var V;async function Cr(e,t){if(t||V)return WebAssembly.instantiate(t||V,e),{instance:await WebAssembly.instantiate(t||V,e),module:t||V};let n=new URL("./postgres.wasm",import.meta.url);if(Ge){let i=await(await import("fs/promises")).readFile(n),{module:a,instance:u}=await WebAssembly.instantiate(i,e);return V=a,{instance:u,module:a}}else{ie||(ie=fetch(n));let r=await ie,{module:i,instance:a}=await WebAssembly.instantiateStreaming(r,e);return V=i,{instance:a,module:i}}}async function Pr(){let e=new URL("./postgres.data",import.meta.url);return Ge?(await(await import("fs/promises")).readFile(e)).buffer:(await fetch(e)).arrayBuffer()}var Ur=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();let e=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let n=0;n<e.length;n++)e[n]=Math.floor(Math.random()*256);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=[];return e.forEach(n=>{t.push(n.toString(16).padStart(2,"0"))}),t.slice(0,4).join("")+"-"+t.slice(4,6).join("")+"-"+t.slice(6,8).join("")+"-"+t.slice(8,10).join("")+"-"+t.slice(10).join("")};async function Nr(e,t,n,r){if(!n||n.length===0)return t;r=r??e;let i;try{await e.execProtocol(k.parse({text:t}),{syncToFs:!1}),i=Fe((await e.execProtocol(k.describe({type:"S"}),{syncToFs:!1})).map(([f])=>f))}finally{await e.execProtocol(k.sync(),{syncToFs:!1})}let a=t.replace(/\$([0-9]+)/g,(f,c)=>"%"+c+"L");return(await r.query(`SELECT format($1, ${n.map((f,c)=>`$${c+2}`).join(", ")}) as query`,[a,...n],{paramTypes:[se,...i]})).rows[0].query}export{k as a,C as b,X as c,ee as d,ne as e,Ie as f,ye as g,_t as h,Vn as i,Fn as j,yt as k,_n as l,jn as m,zn as n,Fe as o,qn as p,Ge as q,Er as r,Cr as s,Pr as t,Ur as u,Nr as v};
//# sourceMappingURL=chunk-AOCDFDRO.js.map